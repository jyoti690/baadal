{{extend 'blank-page.html'}}
    <div class="panel panel-default">
      <div class="panel-body">
        <table id="my-requests">
          <thead>
          <tr>
            <th>VM Name</th>
            <th>Config</th>
            <th>Networks</th>
            <th>Faculty</th>
            <th>Collaborators</th>
            <th>Actions</th>
          </tr>
          </thead>
        </table>
      </div>
      <div class="panel-footer">
        <span style="display:none" class="text-danger" id="modal-error-message">There was some error in the form. Please check the values and submit the form again.</span>
        <span style="display:none" class="text-success" id="modal-success-message">Request successfully posted.</span>
      </div>
    </div>
{{include 'default-scripts.html'}}
    <script>
      (function($){
        var $table = $('#my-requests');
        $table.DataTable({
          ajax: '/baadal/user/my_requests.json',
          "oLanguage": {
            "sEmptyTable": "No pending requests!"
          },
          "columns": [
            { "data": "vm_name" },
            { "data": "owner" },
            { "data": "flavor" },
            { "data": "public_ip_required" },
            { "data": "sec_domain" },
            { "data": "request_time" },
            { "data": "collaborators" },
          ],
          "aoColumnDefs": [
            {
              "aTargets": [7],
              "mData": null,
              "mRender": function (data, type, full) {
                return '<div class="btn-group" role="group" aria-label="..."> \
                  <button title="Modify Request" type="button" data-action="modify" class="btn btn-success btn-default" aria-label="Modify">\
                  <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>\
                  </button> \
                  <button title="Edit" type="button" data-action="edit" class="btn btn-info btn-edit" aria-label="Edit">\
                  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>\
                  </button> \
                  <button title="Reject" type="button" data-action="reject" class="btn btn-danger btn-action" aria-label="Reject">\
                  <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>\
                  </button>\
                  </div>';
              }
            },
            {"visible": false,  "targets": [0]}
          ],
          "fnCreatedRow": function( nRow, aData, iDataIndex ) {
            nRow.setAttribute('data-reqid',aData.id);
          }
              })
      })(jQuery);
    </script>
{{include 'wrap.html'}}